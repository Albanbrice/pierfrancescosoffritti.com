<html>
	<head>
		<title>My first Three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.min.js"></script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			var geometry   = new THREE.SphereGeometry(1, 10, 8)
			var material  = new THREE.MeshPhongMaterial()
			var baseMesh = new THREE.Mesh(geometry, material)
			scene.add(baseMesh)

			var geometryWireframe = new THREE.SphereGeometry(2, 10, 8)
			var materialWireframe = new THREE.MeshBasicMaterial( { color: 0x818181, wireframe: true} )
			var meshWireframe = new THREE.Mesh(geometryWireframe, materialWireframe)
			scene.add(meshWireframe)

			camera.position.z = 5;

			var directionalLight = new THREE.DirectionalLight( 0xffffff, 10 );
			directionalLight.position.set( 0, 1, 10 );
			scene.add( directionalLight );

			var scaleFactor = 0;
			var scale = 0.005;
			var grow = true;

			var render = function () {
				requestAnimationFrame( render );

				baseMesh.rotation.x += 0.01;
				baseMesh.rotation.y += 0.005;
				baseMesh.rotation.z += 0.001;

				meshWireframe.rotation.x += 0.0001;
				meshWireframe.rotation.y += 0.00005;
				meshWireframe.rotation.z += 0.00001;

				if(grow) {

					var tempScale = scale - scaleFactor/200

					baseMesh.scale.x += tempScale;
					baseMesh.scale.y += tempScale;
					baseMesh.scale.z += tempScale;

					scaleFactor += tempScale;

					if(scaleFactor >= 0.5) {
						grow = false;
						scaleFactor = 0.5;

						baseMesh.scale.x = 1 + scaleFactor;
						baseMesh.scale.y = 1 + scaleFactor;
						baseMesh.scale.z = 1 + scaleFactor;
					}

				} else {

					var tempScale = scale - scaleFactor/200

					baseMesh.scale.x -= tempScale;
					baseMesh.scale.y -= tempScale;
					baseMesh.scale.z -= tempScale;

					scaleFactor -= tempScale;

					if(scaleFactor <= 0) {
						grow = true;
						scaleFactor = 0;

						baseMesh.scale.x = 1;
						baseMesh.scale.y = 1;
						baseMesh.scale.z = 1;
					}
				}


				renderer.render(scene, camera);
			};

			render();

			function onWindowResize() {

				windowHalfX = window.innerWidth / 2,
				windowHalfY = window.innerHeight / 2,

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}
		</script>
	</body>
</html>